<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<f:event listener="#{cadastroMB.onLoadSetaCampos}" type="preRenderView" />

<h:head>
	<title>Cadastro JSW</title>
</h:head>
<h:body>
	<h:form>
	<div align="center">
		<h:messages />
		<p:panelGrid>
			<f:facet name="header">
				<p:row>
					<p:column colspan="4" style="text-align:center" >
						<h:outputText id="lDadosPessoais" value="#{msg.pessoais}" />
					</p:column>
				</p:row>
			</f:facet>
			
			<p:row>
				<p:column>
					<h:outputText id="lNomeCompleto" value="#{msg.nomeCompleto}" />
				</p:column>
				<p:column colspan="3">
					<h:inputText id="alNomeCompleto" size="60" maxlength="80" value="#{cadastroMB.usuario.nome}" />
				</p:column>
			</p:row>
			
			<p:row>
				<p:column>
					<h:outputText id="lUsuario" value="#{msg.usuario}" />
				</p:column>
				<p:column>
					<p:password id="alUsuario" value="#{cadastroMB.usuario.login}" />
				</p:column>
				<p:column>
					<h:outputText id="lSenha" value="#{msg.senha}" />
				</p:column>
				<p:column>
					<p:password id="alSenha" value="#{cadastroMB.usuario.senha}" />
				</p:column>
			</p:row>

			<p:row>
				<p:column colspan="4">
					<p:spacer/> 
				</p:column>
			</p:row>			
			
			<p:row>
				<p:column colspan="4" styleClass="ui-widget-header" style="text-align:center" >
					<h:outputText id="lDadosEndereco" value="#{msg.endereco}" />
				</p:column>
			</p:row>
			
			<p:row>
				<p:column>
					<h:outputText id="lCEP" value="#{msg.cep}" />
				</p:column>
				<p:column colspan="2">
					<p:inputMask id="alCep" size="10" maxlength="9" value="#{cadastroMB.cepAlfa}" mask="99999-999" >
						<p:ajax event="blur" update="teste alLogradouro alRua alBairro alCidade alEstado" listener="#{cadastroMB.buscaEndereco}"/> 
					</p:inputMask>
				</p:column>
				<p:column>
					<h:outputText id="teste" value="#{cadastroMB.teste}" />
				</p:column>
			</p:row>
			
			<p:row>
				<p:column>
					<h:outputText id="llogradouro" value="#{msg.logradouro}" />
				</p:column>
				<p:column>
					<p:selectOneMenu id="alLogradouro" value="#{cadastroMB.logradouro}">
			            <f:selectItem itemLabel="Selecione" itemValue="" />   
			            <f:selectItems  value="#{cadastroMB.logradouros}" var="log" itemLabel="#{log.nmLogradouro}" itemValue="#{log.idLogradouro}" />  
			        </p:selectOneMenu> 
				</p:column>
				<p:column>
					<h:outputText id="lrua" value="#{msg.rua}" />
				</p:column>
				<p:column>
					<p:inputText id="alRua" size="30" maxlength="30" value="#{cadastroMB.usuario.endereco.endereco}" />
				</p:column>
			</p:row>
			
			<p:row>
				<p:column>
					<h:outputText id="lNumero" value="#{msg.numero}" />
				</p:column>
				<p:column>
					<p:inputText id="alNumero" size="3" maxlength="6" value="#{cadastroMB.usuario.endereco.numero}" />
				</p:column>
				<p:column>
					<h:outputText id="lComplemento" value="#{msg.complemento}" />
				</p:column>
				<p:column>
					<p:inputText id="alComplemento" size="5" maxlength="10" value="#{cadastroMB.usuario.endereco.complemento}" />
				</p:column>
			</p:row>
			
			<p:row>
				<p:column>
					<h:outputText id="lReferencia" value="#{msg.referencia}" />
				</p:column>
				<p:column>
					<p:inputText id="alReferencia" size="10" maxlength="15" value="#{cadastroMB.usuario.endereco.referencia}" />
				</p:column>
				<p:column>
					<h:outputText id="lBairro" value="#{msg.bairro}" />
				</p:column>
				<p:column>
					<p:inputText id="alBairro" size="10" maxlength="15" value="#{cadastroMB.usuario.endereco.bairro}" />
				</p:column>
			</p:row>
			
			<p:row>
				<p:column>
					<h:outputText id="lCidade" value="#{msg.cidade}" />
				</p:column>
				<p:column>
					<p:inputText id="alCidade" size="20" maxlength="15" value="#{cadastroMB.usuario.endereco.cidade}" />
				</p:column>
			
				<p:column>
					<h:outputText id="lEstado" value="#{msg.estado}" />
				</p:column>
				<p:column>
					<p:inputText id="alEstado" size="10" maxlength="15" value="#{cadastroMB.usuario.endereco.estado}" />
				</p:column>
			</p:row>
			
			
			<p:row>
				<p:column colspan="4" style="text-align:center" >
					<h:commandButton id="bLogin" value="#{msg.login}" action="#{cadastroMB.buscaEndereco}" />
				</p:column>
			</p:row>
		</p:panelGrid>
	</div>
	</h:form>
</h:body>
</html>